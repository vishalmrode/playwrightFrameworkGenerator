'use strict';

var cache = require('../cache.js');
var cachePath = require('./cachePath.js');

function updateCachedAuthInfo(accessToken, authInfo) {
  const cached = cache.readFromCache(cachePath.cachePath) ?? {};
  const newCached = {
    ...cached
  };
  if (authInfo) {
    newCached[accessToken] = authInfo;
  } else {
    delete newCached[accessToken];
  }
  cache.writeToCache(cachePath.cachePath, newCached);
}

exports.updateCachedAuthInfo = updateCachedAuthInfo;
